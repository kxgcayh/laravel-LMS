function hasKey(t,o){var n=t;return o.slice(0,-1).forEach((function(t){n=n[t]||{}})),o[o.length-1]in n}function isNumber(t){return"number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}module.exports=function(t,o){o||(o={});var n={bools:{},strings:{},unknownFn:null};"function"==typeof o.unknown&&(n.unknownFn=o.unknown),"boolean"==typeof o.boolean&&o.boolean?n.allBools=!0:[].concat(o.boolean).filter(Boolean).forEach((function(t){n.bools[t]=!0}));var e={};Object.keys(o.alias||{}).forEach((function(t){e[t]=[].concat(o.alias[t]),e[t].forEach((function(o){e[o]=[t].concat(e[t].filter((function(t){return o!==t})))}))})),[].concat(o.string).filter(Boolean).forEach((function(t){n.strings[t]=!0,e[t]&&(n.strings[e[t]]=!0)}));var r=o.default||{},s={_:[]};Object.keys(n.bools).forEach((function(t){a(t,void 0!==r[t]&&r[t])}));var i=[];function a(t,o,r){if(!r||!n.unknownFn||function(t,o){return n.allBools&&/^--[^=]+$/.test(o)||n.strings[t]||n.bools[t]||e[t]}(t,r)||!1!==n.unknownFn(r)){var i=!n.strings[t]&&isNumber(o)?Number(o):o;l(s,t.split("."),i),(e[t]||[]).forEach((function(t){l(s,t.split("."),i)}))}}function l(t,o,e){for(var r=t,s=0;s<o.length-1;s++){if("__proto__"===(i=o[s]))return;void 0===r[i]&&(r[i]={}),r[i]!==Object.prototype&&r[i]!==Number.prototype&&r[i]!==String.prototype||(r[i]={}),r[i]===Array.prototype&&(r[i]=[]),r=r[i]}var i;"__proto__"!==(i=o[o.length-1])&&(r!==Object.prototype&&r!==Number.prototype&&r!==String.prototype||(r={}),r===Array.prototype&&(r=[]),void 0===r[i]||n.bools[i]||"boolean"==typeof r[i]?r[i]=e:Array.isArray(r[i])?r[i].push(e):r[i]=[r[i],e])}function f(t){return e[t].some((function(t){return n.bools[t]}))}-1!==t.indexOf("--")&&(i=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var c=0;c<t.length;c++){var u=t[c];if(/^--.+=/.test(u)){var p=u.match(/^--([^=]+)=([\s\S]*)$/),b=p[1],h=p[2];n.bools[b]&&(h="false"!==h),a(b,h,u)}else if(/^--no-.+/.test(u)){a(b=u.match(/^--no-(.+)/)[1],!1,u)}else if(/^--.+/.test(u)){b=u.match(/^--(.+)/)[1];void 0===(d=t[c+1])||/^-/.test(d)||n.bools[b]||n.allBools||e[b]&&f(b)?/^(true|false)$/.test(d)?(a(b,"true"===d,u),c++):a(b,!n.strings[b]||"",u):(a(b,d,u),c++)}else if(/^-[^-]+/.test(u)){for(var y=u.slice(1,-1).split(""),g=!1,v=0;v<y.length;v++){var d;if("-"!==(d=u.slice(v+2))){if(/[A-Za-z]/.test(y[v])&&/=/.test(d)){a(y[v],d.split("=")[1],u),g=!0;break}if(/[A-Za-z]/.test(y[v])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(d)){a(y[v],d,u),g=!0;break}if(y[v+1]&&y[v+1].match(/\W/)){a(y[v],u.slice(v+2),u),g=!0;break}a(y[v],!n.strings[y[v]]||"",u)}else a(y[v],d,u)}b=u.slice(-1)[0];g||"-"===b||(!t[c+1]||/^(-|--)[^-]/.test(t[c+1])||n.bools[b]||e[b]&&f(b)?t[c+1]&&/^(true|false)$/.test(t[c+1])?(a(b,"true"===t[c+1],u),c++):a(b,!n.strings[b]||"",u):(a(b,t[c+1],u),c++))}else if(n.unknownFn&&!1===n.unknownFn(u)||s._.push(n.strings._||!isNumber(u)?u:Number(u)),o.stopEarly){s._.push.apply(s._,t.slice(c+1));break}}return Object.keys(r).forEach((function(t){hasKey(s,t.split("."))||(l(s,t.split("."),r[t]),(e[t]||[]).forEach((function(o){l(s,o.split("."),r[t])})))})),o["--"]?(s["--"]=new Array,i.forEach((function(t){s["--"].push(t)}))):i.forEach((function(t){s._.push(t)})),s};
